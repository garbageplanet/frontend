/*
 * JavaScript Templates Runtime
 * https://github.com/blueimp/JavaScript-Templates
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

/* global define */

;(function ($) {
  'use strict'
  var tmpl = function (id, data) {
    var f = tmpl.cache[id]
    return data ? f(data, tmpl) : function (data) {
      return f(data, tmpl)
    }
  }
  tmpl.cache = {'tmpl-feature-info':function(o,tmpl){var _e=tmpl.encode,_s='\n    <div class="row row-horizon bottombar-content" id="feature-info">\n        <div class="card card-actions col-xl-1 col-lg-1 col-md-1 col-ms-1 col-sm-2 col-xs-2">\n            <div>\n                <div class="btn-group-vertical" role="group">\n                    \n                    <div class="btn-group btn-group-lg" role="group">\n                        <button type="button" title="Edit this feature" class="btn btn-warning btn-edit btn-round sidebar-link">\n                            <span class="fa fa-pencil"></span>\n                        </button>\n                    </div>\n                    \n                    <div class="btn-group btn-group-lg hidden-xs" role="group">\n                        <button type="button" title="Delete this feature" class="btn btn-danger btn-round btn-delete">\n                            <span class="fa fa-times"></span>\n                        </button>\n                    </div>\n                    \n                    '; if (o.amount) { _s+='\n                        <div class="btn-group btn-group-lg" role="group">\n                            <button type="button" title="The garbage has been cleaned" class="btn btn-round btn-success btn-cleaned">\n                                <span class="fa fa-check"></span>\n                            </button>\n                        </div>\n                    '; } _s+='\n                    \n                    '; if (o.amount) { _s+='\n                        <div class="btn-group btn-group-lg" role="group">\n                            <button type="button" title="Confirm there is garbage here" class="btn btn-round btn-info btn-confirm-garbage">\n                                <span class="fa fa-binoculars"></span>\n                            </button>\n                            <span class="badge badge-notify badge-notify-confirm">'+_e(o.confirms)+'</span>\n                        </div>\n                    '; } _s+='\n                    \n                    '; if (o.datetime) { _s+='\n                        <div class="btn-group btn-group-lg" role="group">\n                            <button type="button" title="Say you will help" class="btn btn-round btn-info btn-attend-cleaning">\n                                <span class="fa fa-group"></span>\n                            </button><span class="badge badge-notify badge-notify-attend">'+_e(o.attends)+'</span>\n                        </div>\n                    '; } _s+='\n                    \n                    '; if (o.contact) { _s+='\n                        <div class="btn-group btn-group-lg" role="group">\n                            <button type="button" title="Join game" class="btn btn-round btn-info btn-participate-game">\n                                <span class="fa fa-play"></span>\n                            </button><span class="badge badge-notify badge-notify-participate">'+_e(o.participant)+'</span>\n                        </div>\n                    '; } _s+='\n                    \n                    <div class="btn-group btn-group-lg" role="group">\n                        <button type="button" title="Share this" class="btn btn-round btn-default btn-social" data-toggle="popover" data-placement="top" data-trigger="focus">\n                            <span class="fa fa-share-alt"></span>\n                        </button>\n                    </div>\n                    \n                </div>\n                <div class="hidden" id="social-links"></div>\n            </div>\n        </div>\n        \n        <div class="card card-scroll card-data col-xl-2 col-lg-2 col-md-3 col-ms-3 col-sm-4 col-xs-6">\n        <div><h3>Data</h3></div>\n        <div class="feature-data-card">\n        '; if (o.types) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">type:'+_e(o.types)+'</span>\n        <span class="feature-info feature-info-garbage feature-info-litter feature-info-garbage-type pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.amount) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">amount:'+_e(o.amount)+'</span>\n        <span class="feature-info feature-info-garbage feature-info-litter feature-info-garbage-amount pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.size) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">sizes:'+_e(o.size)+'</span>\n        <span class="feature-info feature-info-garbage feature-info-litter feature-info-garbage-size pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.embed) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">in:'+_e(o.embed)+'</span>\n        <span class="feature-info feature-info-garbage feature-info-litter feature-info-garbage-embed pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.physical_length) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">length:'+_e(o.physical_length)+'</span>\n        <span class="feature-info feature-info-garbage feature-info-litter feature-info-litter-length pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.todo) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">todo:'+_e(o.todo)+'</span>\n        <span class="feature-info-garbage feature-info feature-info-todo pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.note) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">note:'+_e(o.note)+'</span>\n        <span class="feature-info feature-info-common feature-info-note pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.tags) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">note:'+_e(o.tags)+'</span>\n        <span class="feature-info feature-info-common feature-info-tags pull-left">\n        '; for (var i=0; i<o.tags.length; i++) { _s+='\n        <span class="label label-default">'+_e(o.tags[i])+'</span>\n        '; } _s+='\n        </span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.datetime) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">time:'+_e(o.datetime)+'</span>\n        <span class="feature-info feature-info-cleaning feature-info-time pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.datetime) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">location:</span>\n        <span class="feature-info feature-info-cleaning feature-info-location pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.title) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">name:'+_e(o.title)+'</span>\n        <span class="feature-info feature-info-area feature-info-name pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        '; if (o.contact) { _s+='\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">contact:'+_e(o.contact)+'</span>\n        <span class="feature-info feature-info-area feature-info-contact pull-left"></span>\n        </div>\n        </div>\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">players:'+_e(o.players)+'</span>\n        <span class="feature-info feature-info-area feature-info-players pull-left"></span>\n        </div>\n        </div>\n        <div class="panel panel-default">\n        <div class="panel-body">\n        <span class="pull-left">results:<a href="'+_e(o.results_link)+'" class="game-results-modal-link" data-toggle="modal" data-target="#game-results-modal"> click here to view<a/></span>\n        <span class="feature-info feature-info-area feature-info-results pull-left"></span>\n        </div>\n        </div>\n        '; } _s+='\n        </div>\n        </div>\n            \n        '; if (o.image_url) { _s+='\n            <div class="card card-scroll card-media col-xl-2 col-lg-2 col-md-3 col-ms-3 col-sm-4 col-xs-6">\n                <div><h3>Media</h3></div>\n                <a class="feature-image-link" href="'+(o.image_url==null?'':o.image_url)+'" target="_blank"><img src="'+(o.image_url==null?'':o.image_url)+'" alt="feature image" class="feature-image center-block"></a>\n            </div>\n        '; } _s+='\n            \n        <div class="card card-scroll card-track col-xl-2 col-lg-2 col-md-3 col-ms-3 col-sm-4 col-xs-6">\n        \n            <div><h3>Track changes</h3></div>\n            \n            <div class="panel panel-default">\n                <div class="panel-body">\n                    <span class="pull-left">creation date:'+_e(o.created_at )+'</span>\n                    <span class="feature-info feature-info-created-at pull-left"></span>\n                </div>\n            </div>\n            \n            <div class="panel panel-default">\n                <div class="panel-body">\n                    <span class="pull-left">created by:'+_e(o.created_by )+'</span>\n                    <span class="feature-info feature-info-created-by pull-left"></span>\n                </div>\n            </div>\n            \n            '; if (o.modifided_by) { _s+='\n                <div class="panel panel-default">\n                    <div class="panel-body">\n                        <span class="pull-left">modified by:'+_e(o.modifided_by )+'</span>\n                        <span class="feature-info feature-info-modified-by pull-left"></span>\n                    </div>\n                </div>\n            \n                <div class="panel panel-default">\n                    <div class="panel-body">\n                        <span class="pull-left">modified at:'+_e(o.modifided_at )+'</span>\n                        <span class="feature-info feature-info-modified-at pull-left"></span>\n                    </div>\n                </div>\n            '; } _s+='\n            \n            '; if (o.cleaned_by) { _s+='\n                <div class="panel panel-default">\n                    <div class="panel-body">\n                        <span class="pull-left">modified by:'+_e(o.cleaned_by )+'</span>\n                        <span class="feature-info feature-info-cleaned-by pull-left"></span>\n                    </div>\n                </div>\n            '; } _s+='\n            \n            <div class="panel panel-default">\n                <div class="panel-body">\n                    <span class="pull-left"><a class="feature-info-report" href="#">Report</a></span>\n                </div>\n            </div>\n        </div>\n            \n        '; if (o.date) { _s+='\n            <div class="card card-minimap col-xl-2 col-lg-2 col-md-3 col-ms-3 col-sm-4 col-xs-6">\n                <div><h3>Access minimap</h3></div>\n                <div id ="minimap" class="cleaning-minimap-card"></div>\n            </div>\n        '; } _s+='\n    </div>\n';return _s;},'tmpl-modal-cleaning':function(o,tmpl){var _e=tmpl.encode,_s='\n'; for (var i=0; i<o.length; i++) { _s+='\n    <tr class="modal-calendar-row">\n        <td>'+_e(o[i].id)+'</td>\n        <td>'+_e(o[i].datetime)+'</td>\n        <td>'+_e(o[i].latlng)+'</td>\n    </tr>\n'; } _s+='\n';return _s;},'tmpl-modal-garbage':function(o,tmpl){var _e=tmpl.encode,_s='\n'; for (var i=0; i<o.length; i++) { _s+='\n    <tr class="modal-data-row">\n        <td>'+_e(o[i].id)+'</td>\t\t\n        <td>'+_e(o[i].latlng)+'</td>\t\t\n        <td>'+_e(o[i].amount)+'</td>\n        <td>'+_e(o[i].types)+'</td>\n    </tr>\n'; } _s+='\n';return _s;},'tmpl-form-garbage-type':function(o,tmpl){var _e=tmpl.encode,_s='\n    '; for (var i=0; i<o.length; i++) { _s+='\n        <option value="'+_e(o[i].short)+'">'+_e(o[i].long)+'</option>\n    '; } _s+='\n';return _s;},'tmpl-social-links':function(o,tmpl){var _e=tmpl.encode,_s='\n'; for (var i=0; i<o.length; i++) { _s+='\n<div class="btn-group btn-group-lg" role="group">\n    <a href="'+_e(o[i].targeturl)+'" target="_blank" title="'+_e(o[i].title)+'" class="btn '+_e(o[i].btnclass)+' btn-round btn-share">\n        <span class="fa '+_e(o[i].iconclass)+'"></span>\n    </a>\n</div>\n'; } _s+='\n';return _s;},'tmpl-credits':function(o,tmpl){var _e=tmpl.encode,_s='        \n    '; for (var i=0; i<o.length; i++) { _s+='\n        '+_e(o[i].text)+' <a href="'+_e(o[i].linkurl)+'">'+_e(o[i].title)+'</a><br>\n    '; } _s+='   \n';return _s;},'tmpl-sidebar-main':function(o,tmpl){var _s='\n    \n    <div class="sidebar-content" id="mobile-menu-dialog">\n\n        <div class="form-group form-group-lg mobile-menu">\n\n            <a href="#create-account-dialog" class="sidebar-link btn btn-default btn-lg btn-block session-link"><span class="fa fa-fw fa-user"></span> Register</a>\n\n            <a href="#user-login-dialog" class="sidebar-link btn btn-default btn-lg btn-block session-link"><span class="fa fa-fw fa-key"></span> Login</a>\n\n            <a href="#" class="btn btn-default btn-lg btn-block btn-glome-go session-link"><span class="fa fa-fw fa-user-secret"></span> Anon login</a>\n\n            <a href="#search-dialog" class="sidebar-link btn btn-default btn-lg btn-block"><span class="fa fa-fw fa-search"></span> Search</a>\n\n            <a href="#" class="sidebar-link btn btn-default btn-lg btn-block disabled"><span class="fa fa-fw fa-cloud"></span> Forecast</a>\n\n            <a href="#credits-dialog" class="sidebar-link btn btn-default btn-lg btn-block"><span class="fa fa-fw fa-question"></span> About</a>\n\n        </div>\n\n</div>\n    <div class="sidebar-content" id="create-marker-dialog">\n        <h2 class="actions-panel hidden-sm hidden-xs">Action for this location</h2>\n\n        <ul class="nav nav-pills nav-stacked">\n          <li role="presentation"><a class="create-dialog sidebar-link" href="#create-garbage-dialog">Mark garbage</a></li>\n          <li role="presentation"><a class="create-dialog sidebar-link" href="#create-cleaning-dialog">Create a cleaning event</a></li>\n          <li role="presentation" ><a class="sidebar-link" href="#create-litter-dialog">Add a littered segment</a></li>\n          <li role="presentation" ><a class="sidebar-link" href="#create-area-dialog">Create an area</a></li>\n          <li role="presentation" class="create-dialog disabled"><a class="sidebar-link" href="#create-floating-dialog">Mark floating garbage</a></li>\n          <li role="presentation" class="create-dialog disabled"><a class="sidebar-link" href="#create-wastewater-dialog">Mark sewage discharge</a></li>\n          <li role="presentation" class="create-dialog disabled"><a class="sidebar-link" href="#create-dieoff-dialog">Locate mass die off</a></li>\n        </ul>\n\n</div>\n\n    <div class="sidebar-content" id="create-cleaning-dialog">\n    <!-- Cleaning event creation -->\n      <div id="create-cleaning">\n        <h3><span><a class="menu-backlink fa fa-fw fa-chevron-circle-left pull-left hidden-xs" href="#create-marker-dialog"></a></span>Add a cleaning event</h3>\n      </div>\n\n        <form class="form-feature form-cleaning " data-toggle="validator">\n\n          <div class="tab-view">\n            <ul class="nav nav-tabs nav-justified" role="tablist">\n              <li class="active"><a class="tab-default" href="#cleaning-main-tab" data-toggle="tab"><span class="fa fa-fw fa-calendar"></span></a></li>\n              <li><a href="#cleaning-info-tab" data-toggle="tab"><span class="fa fa-fw fa-question"></span></a></li>\n            </ul>\n\n              <div class="tab-content">\n\n                <br>\n\n                <div class="tab-pane active form-group form-group-lg" id="cleaning-main-tab" role="tabpanel">\n\n                  <input type="hidden" class="marker-latlng cleaning-latlng">\n                  <input type="hidden" class="event-date-time-hidden">\n\n                    <!-- Date and time picker for events -->\n                  <div class="lead">Starts at ...</div>\n                  <div class="container from-group" style="width:100%">\n                    <div class="row">\n                        <div class="form-group">\n                                <div class="input-group date" id="event-date-time-picker">\n                                    <input type="datetime" class="form-control">\n                                    <input type="hidden" id="date-time-value">\n                                    <span class="input-group-addon">\n                                    <span class="fa fa-fw fa-clock-o"></span>\n                                    </span>\n                                </div>\n                        </div>\n                    </div>\n                  </div>\n\n                  <div class="dropdown form-group">\n                          <select class="selectpicker cleaning-recurrent-select"\n                                  title="Set event recurrence"\n                                  data-width="100%"\n                                  required>\n                              <option value=""></option>\n                              <option value="daily">None</option>\n                              <option value="daily">Daily</option>\n                              <option value="weekly">Weekly</option>\n                              <option value="monthly">Monthly</option>\n                              <option value="yearly">Yearly</option>\n                          </select>\n                  </div>\n\n                  <div class="form-group form-group-lg" style="width:100%">\n                    <textarea class="cleaning-note form-control"\n                              rows="3"\n                              placeholder="Add a note about this event"\n                              data-maxlength="140"\n                              data-minlength="10"\n                              data-pattern="^[a-zA-Z\\d\\-_.,?!\\|\\/:@\\s]+$"></textarea>\n                      <div class="help-block with-errors"></div>\n                  </div>\n\n                  <div class="row">\n                      <div class="input-lg col-lg-12 col-sm-12 col-xs-12 col-md-12">\n                      <input class="form-control feature-tags cleaning-tags"\n                             type="text"\n                             placeholder="Add tags (max 3)"/>\n                      </div>\n                  </div>\n\n                </div>\n\n                <div class="tab-pane form-group form-group-lg" id="cleaning-info-tab" role="tabpanel">\n\n                  <p class="lead">A marker for a cleaning event is meant for a location where trash has already been identified. Facebook users can choose whether to create a Facebook event simultaneously. <a class="sidebar-link" href="#user-login-dialog">Login</a> or <a class="sidebar-link" href="#create-account-dialog" >register</a> with an email to create an event.</p>\n\n                </div>\n\n              </div>\n\n          </div>\n\n          <div>\n              <div class="btn-group btn-group-justified" role="group">\n                  <div class="btn-group btn-group-lg" role="group">\n                      <button type="submit"\n                              class="btn btn-success btn-save btn-save-cleaning">\n                          <span class="fa fa-fw fa-check"></span><span class="hidden-xs">Save</span>\n                      </button>\n                  </div>\n                  <div class="btn-group btn-group-lg" role="group">\n                      <button type="button"\n                              title="Cancel"\n                              class="btn btn-danger btn-cancel">\n                          <span class="fa  fa-fw fa-times"></span><span class="hidden-xs">Cancel</span>\n                      </button>\n                  </div>\n                  <!-- see https://developers.facebook.com/docs/graph-api/reference/event -->\n              </div>\n          </div><!-- Create the marker -->\n        </form>\n</div>\n    <div class="sidebar-content" id="create-garbage-dialog">\n      <div>\n          <h3>\n              <span>\n                  <a class="menu-backlink fa fa-fw fa-chevron-circle-left pull-left hidden-xs" href="#create-marker-dialog"></a>\n              </span> Mark garbage\n          </h3>\n      </div>\n      <form class="form-feature form-garbage" accept-charset="UTF-8" data-toggle="validator">\n\n        <div class="tab-view">\n          <ul class="nav nav-tabs nav-justified" role="tablist">\n            <li class="active"><a class="tab-default" href="#garbage-main" data-toggle="tab"><span class="fa fa-fw fa-map-marker"></span></a></li>\n            <li><a href="#garbage-quantitative" data-toggle="tab"><span class="fa fa-fw fa-bar-chart-o"></span></a></li>\n            <li><a href="#garbage-info" data-toggle="tab"><span class="fa fa-fw fa-question"></span></a></li>\n          </ul>\n\n          <div class="tab-content">\n\n            <div class="tab-pane active form-group form-group-lg" id="garbage-main" role="tabpanel">\n\n              <br>\n\n              <input type="hidden" class="marker-latlng garbage-latlng">\n\n              <div class="form-group">\n                <p class="lead">Amount of garbage</p>              \n                <div class="btn-group btn-group-justified btn-group-amount btn-group-amount-garbage" data-toggle="buttons">\n                  <label class="btn btn-lg btn-limegreen"><input type="radio" autocomplete="off" name="1">1</label>\n                  <label class="btn btn-lg btn-yellow" ><input type="radio" autocomplete="off" name="2">2</label>\n                  <label class="btn btn-lg btn-orangered active" ><input type="radio" autocomplete="off" name="3">3</label>\n                  <label class="btn btn-lg btn-red" ><input type="radio" autocomplete="off" name="4">4</label>\n                  <label class="btn btn-lg btn-violet" ><input type="radio" autocomplete="off" name="5">5</label>\n                </div>\n            </div>\n\n            <div class="dropdown form-group">\n                <select class="selectpicker garbage-type-select form-control"\n                        id="garbage-select"\n                        title="What kind?"\n                        data-selected-text-format="count"\n                        data-width="100%"\n                        data-live-search="true"\n                        data-max-options="20"\n                        data-actions-box="true"\n                        required\n                        multiple>\n                        </select>\n            <div class="help-block with-errors"></div>\n            </div>\n\n            <div class="dropdown">\n                <select class="selectpicker form-control garbage-todo-select"\n                        title="What to do here?"\n                        data-width="100%"\n                        required>\n                    <option value="" disabled="disabled"></option>\n                    <option value="1">It\'s been cleaned up already</option>\n                    <option value="2">I need help to clean it up</option>\n                    <option value="3">Need to pick up bags</option>\n                    <option value="4">Organize a cleaning</option>\n                    <option value="5">Tell local authorities</option>\n                </select>\n              <div class="help-block with-errors"></div>\n            </div>\n\n            <div class="form-group form-group-lg">\n\n              <div class="row">\n                  <div class="input-lg col-lg-12 col-sm-12 col-xs-12 col-md-12">\n                  <input class="form-control feature-tags garbage-tags"\n                         type="text"\n                         placeholder="Add tags (max 3)"/>\n                  </div>\n              </div>\n\n            </div>\n\n            </div><!-- main garbage pane -->\n\n            <div class="tab-pane form-group form-group-lg" id="garbage-quantitative" role="tabpanel">\n\n            <br>\n\n              <div class="dropdown form-group">\n                  <select class="selectpicker form-control garbage-size-select"\n                          title="What size?"\n                          data-selected-text-format="count"\n                          data-width="100%"\n                          multiple >\n                      <option value="1">Too big to carry alone</option>\n                      <option value="2">Large pieces</option>\n                      <option value="3">Easily visible</option>\n                      <option value="4">Small enough to escape the eye</option>\n                      <option value="5">Too small to pick up by hand</option>\n                      <option value="6">Can\'t see it</option>\n                  </select>\n              </div>\n\n\n              <div class="dropdown form-group">\n                  <select class="selectpicker form-control garbage-embed-select"\n                          title="Where is it?"\n                          data-selected-text-format="count"\n                          data-width="100%"\n                          multiple >\n                      <option value="1">Vegetation</option>\n                      <option value="2">Water</option>\n                      <option value="3">Stones, rocks</option>\n                      <option value="4">Sand, gravel</option>\n                      <option value="5">Soil, sediment</option>\n                      <option value="6">Ice, snow</option>\n                  </select>\n              </div>\n\n\n              <div class="form-group-lg form-group" style="width:100%">\n                <textarea class="form-control garbage-note"\n                          rows="3"\n                          name="garbage-note-name"\n                          placeholder="Add a note about this marker"\n                          data-maxlength="140"\n                          data-minlength="10"\n                          data-pattern="^[a-zA-Z\\d\\-_.,?!\\s]+$"></textarea>\n                <div class="help-block with-errors"></div>\n              </div>\n\n            <div class="form-group">\n              <div class="input-group input-group-lg">\n                <!-- Uploader part need to follow the following strict format -->\n                    <span class="input-group-btn">\n                        <button class="btn btn-default btn-image-uploader" type="button">\n                        <span class="fa fa-fw fa-file-image-o"></span></button>\n                        <input class="image-uploader" name="image" type="file" style="display:none;">\n                    </span>\n\n                   <input type="text" class="form-control garbage-image-hidden-value" placeholder="Upload an image">\n              </div>\n\n              <div class="progress hidden">\n                <div class="progress-bar progress-bar-success" role="progressbar" style="width:%"></div>\n              </div>\n\n            </div>\n\n            </div>\n\n            <div class="tab-pane form-group form-group-lg" id="garbage-info" role="tabpanel">\n            <br>\n              <p class="lead"> Anybody can anonymously mark trash on the map. Markers can only be placed between zoom level 10 and 20 (<a href="#" onclick="map.setZoom(15)">zoom to level 10 now</a>). When choosing the amount of garbage on the scale of 1 to 5, think of 1 as \'a little\' and 5 as a dumpster.</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Create the marker -->\n        <div>\n          <div class="btn-group btn-group-justified" role="group">\n            <div class="btn-group btn-group-lg" role="group">\n                <button type="submit"\n                        class="btn btn-success btn-save btn-save-garbage">\n                <span class="fa fa-fw fa-check"></span><span class="hidden-xs">Save</span>\n                </button>\n            </div>\n            <div class="btn-group btn-group-lg" role="group">\n                <button type="button"\n                        class="btn btn-danger btn-cancel">\n                <span class="fa  fa-fw fa-times"></span><span class="hidden-xs">Cancel</span>\n                </button>\n            </div>\n        </div>\n      </div>\n    </form>\n\n</div>\n    <div class="sidebar-content" id="create-area-dialog">\n        <h3><span><a class="menu-backlink fa fa-fw fa-chevron-circle-left pull-left hidden-xs" href="#create-marker-dialog"></a></span>Create an area</h3>\n\n        <form class="form-feature form-area" data-toggle="validator">\n\n          <div class="tab-view">\n            <ul class="nav nav-tabs nav-justified" role="tablist">\n              <li class="active"><a class="tab-default" href="#area-main" data-toggle="tab"><span class="fa fa-fw fa-square-o"></span></a></li>\n              <li><a href="#area-tools" data-toggle="tab"><span class="fa fa-fw fa-gamepad"></span></a></li>\n              <li><a href="#area-info" data-toggle="tab"><span class="fa fa-fw fa-question"></span></a></li>\n            </ul>\n\n            <div class="tab-content">\n\n              <br>\n\n              <div class="tab-pane active form-group form-group-lg" id="area-main" role="tabpanel">\n\n                <div class="form-group">\n                  <button type="button" class="btn btn-lg btn-block btn-default btn-draw btn-draw-polygon">\n                    <span class="fa fa-fw fa-pencil"></span> Start drawing\n                  </button>\n                </div>\n\n                <input type="hidden" class="area-latlngs">\n\n                <div class="form-group form-group-lg" style="width:100%">\n                  <input class="form-control area-title" \n                         placeholder="Use a custom area name"\n                         data-maxlength="50"\n                         data-minlength="5"\n                         data-pattern="^[a-zA-Z0-9]+$">\n                  <div class="help-block with-errors"></div>\n                </div>\n\n                <div class="form-group form-group-lg" style="width:100%">\n                  <textarea class="form-control area-note"\n                            rows="3"\n                            data-pattern="^[a-zA-Z\\d\\-_.,?!\\s]+$"\n                            data-maxlength="140"\n                            data-minlength="10"\n                            placeholder="Add a note about this area"></textarea>\n                <div class="help-block with-errors"></div>\n                </div>\n\n\n                <div class="row">\n                    <div class="input-lg col-lg-12 col-sm-12 col-xs-12 col-md-12">\n                    <input class="form-control feature-tags area-tags"\n                           type="text"\n                           placeholder="Add tags (max 3)"/>\n                    </div>\n                </div>\n\n              </div>\n\n              <div class="tab-pane form-group form-group-lg" id="area-tools" role="tabpanel">\n\n                <div class="alert alert-warning" role="alert">\n                    <span class="fa fa-fw fa-exclamation"></span>\n                      This tool is not yet available.\n                </div>\n\n                <div class="form-group">\n                  <div class="checkbox form-group-lg tile-game-check">\n                    <label><input type="checkbox">Enable game mode for this area.</label>\n                  </div>\n                </div>\n\n                <div class="form-group form-group-lg" style="width:100%">\n                  <input class="form-control area-players"\n                         type="number"\n                         min="1"\n                         max="100"\n                         step="1"\n                         placeholder="Number of players"\n                         required>\n                  <div class="help-block with-errors"></div>\n                </div>\n\n                <div class=" form-group tile-game-secret">\n\n                    <div class="form-group form-group-lg" style="width:100%">\n                        <input class="form-control disabled area-secret"\n                               placeholder="Set the secret to access this game"\n                               required>\n                    </div>\n                    <div class="form-group form-group-lg" style="width:100%">\n                        <input class="form-control disabled area-contact"\n                               placeholder="Set a contact info for this game"\n                               required>\n\n                      <div class="help-block with-errors"></div>\n                    </div>\n\n                </div>\n\n              </div>\n\n              <div class="tab-pane form-group form-group-lg" id="area-info" role="tabpanel">\n\n                <p class="lead">Areas are used to overlay a summary of map features. They can serve as feeds for a given perimeter which can be accessed via our <a href="https://www.github.com/garbageplanet/" target="_blank">API</a>.  They can also be used to restrict actions to a zone during games. Specify an <em>areaname</em> and it can be called through our API using <em>@areaname</em>. If a name is not set, a random id will be assigned.</p>\n\n              </div>\n\n            </div>\n          </div>\n\n              <div>\n                <div class="btn-group btn-group-justified" role="group">\n                    <div class="btn-group btn-group-lg" role="group">\n                        <button type="submit" class="btn btn-success btn-save bnt-save-area">\n                            <span class="fa fa-fw fa-check"></span><span class="hidden-xs">Save</span>\n                        </button>\n                    </div>\n                    <div class="btn-group btn-group-lg" role="group">\n                        <button type="button" class="btn btn-danger btn-cancel">\n                            <span class="fa fa-fw fa-times"></span><span class="hidden-xs">Cancel</span>\n                        </button>\n                    </div>\n                </div>\n              </div>\n\n        </form>\n</div>\n    <div class="sidebar-content" id="create-litter-dialog">\n      <h3><span><a class="menu-backlink fa fa-fw fa-chevron-circle-left pull-left hidden-xs" href="#create-marker-dialog"></a></span>Mark litter</h3>\n\n        <form class="form-feature form-litter" data-toggle="validator">\n\n        <div class="tab-view">\n          <ul class="nav nav-tabs nav-justified" role="tablist">\n            <li class="active"><a class="tab-default" href="#litter-main" data-toggle="tab"><span class="fa fa-fw fa-map-marker"></span></a></li>\n            <li><a href="#litter-quantitative" data-toggle="tab"><span class="fa fa-fw fa-bar-chart-o"></span></a></li>\n            <li><a href="#litter-info" data-toggle="tab"><span class="fa fa-fw fa-question"></span></a></li>\n          </ul>\n\n          <div class="tab-content">\n          <br>\n          <div class="tab-pane active form-group form-group-lg" id="litter-main" role="tabpanel">\n\n            <div>\n              <button type="button" class="btn btn-lg btn-block btn-default btn-draw btn-draw-polyline">\n                <span class="fa fa-fw fa-pencil"></span> Start drawing\n              </button>\n            </div>\n\n            <input type="hidden" class="litter-latlngs">\n\n            <br>\n\n              <div class="form-group">\n                <p class="lead">Amount of garbage</p>              \n\n                <div class="btn-group btn-group-justified btn-group-amount btn-group-amount-litter" data-toggle="buttons">\n                  <label class="btn btn-lg btn-limegreen"><input type="radio" name="1" autocomplete="off">1</label>\n                  <label class="btn btn-lg btn-yellow"><input type="radio" name="2" autocomplete="off">2</label>\n                  <label class="btn btn-lg btn-orangered active"><input type="radio" name="3" autocomplete="off" checked>3</label>\n                  <label class="btn btn-lg btn-red"><input type="radio" name="4" autocomplete="off">4</label>\n                  <label class="btn btn-lg btn-violet"><input type="radio" name="5" autocomplete="off">5</label>\n                </div>\n            </div>\n\n            <div class="dropdown form-group form-group-lg" >\n                <select class="selectpicker litter-type-select form-control"\n                        title="What kind of litter?"\n                        name="litterTypeName"\n                        multiple\n                        data-live-search="true"\n                        data-selected-text-format="count"\n                        data-max-options="10"\n                        data-width="100%"\n                        required\n                        id="litter-select"></select>\n            <div class="help-block with-errors"></div>\n            </div><!-- Select the type of trash -->\n\n            <div class="form-group form-group-lg" style="width:100%">\n              <textarea class="form-control litter-note"\n                        rows="3"\n                        placeholder="Add a note about this feature"\n                        data-minlength="10"\n                        data-maxlength="140"\n                        data-pattern="^[a-zA-Z\\d\\-_.,?!\\s]+$"></textarea>\n            </div>\n            <div class="help-block with-errors"></div>\n\n          </div>\n\n          <div class="tab-pane form-group form-group-lg" id="litter-quantitative" role="tabpanel">\n\n          <div class="form-group">\n              <div class="input-group input-group-lg">\n                    <span class="input-group-btn">\n                        <button class="btn btn-default btn-image-uploader"\n                                type="button">\n                        <span class="fa fa-fw fa-file-image-o"></span></button>\n                        <input class="image-uploader" name="image" type="file" style="display:none;">\n                    </span>\n\n                    <input type="text"\n                           class="form-control litter-image-hidden-value"\n                           placeholder="Upload an image">\n              </div>\n\n              <div class="progress hidden">\n                <div class="progress-bar progress-bar-success" role="progressbar" style="width:%"></div>\n              </div>\n\n            </div>\n\n            <div class="form-group form-group-lg" style="width:100%">\n                <input class="form-control litter-amount-quantitative"\n                          type="number"\n                          min="1"\n                          step="1"\n                          placeholder="Garbage pieces per unit length">\n            </div>\n\n            <div class="form-group form-group-lg" style="width:100%">\n                <input id="litter-raw-length" class="form-control litter-path-length"\n                       placeholder="Length of the path">\n            </div>\n\n            <div class="row">\n              <div class="input-lg col-lg-12 col-sm-12 col-xs-12 col-md-12">\n              <input class="form-control feature-tags litter-tags"\n                     type="text"\n                     placeholder="Add tags (max 3)">\n              </div>\n            </div>\n\n          </div>\n\n          <div class="tab-pane form-group form-group-lg" id="litter-info" role="tabpanel">\n\n            <p class="lead">Litter lines identify long stretches of land that accumulate garbage, such as shorelines, river banks and road shoulders. Click the <em>Start drawing</em> button in the first tab of this form to start drawing. You can cancel drawing at any time by pressing <kbd>Esc</kbd>.</p>\n\n        </div>\n\n      </div>\n\n    </div>\n\n         <!-- Create the polyline -->\n        <div>\n          <div class="btn-group btn-group-justified" role="group">\n              <div class="btn-group btn-group-lg" role="group">\n                  <button type="submit"\n                          class="btn btn-success btn-save btn-save-litter">\n                  <span class="fa fa-fw fa-check"></span><span class="hidden-xs">Save</span>\n                  </button>\n              </div>\n              <div class="btn-group btn-group-lg" role="group">\n                  <button type="button"\n                          class="btn btn-danger btn-cancel btn-cancel-shape">\n                  <span class="fa fa-fw fa-times"></span><span class="hidden-xs">Cancel</span>\n                  </button>\n              </div>\n          </div>\n        </div>\n        <br>\n      </form>\n</div>\n    <div class="sidebar-content" id="create-dieoff-dialog"></div>\n\n    <div class="sidebar-content" id="user-login-dialog">\n      <div>\n        <div><h4>Login anonymously</h4></div>\n        <form class="form-group">\n          <div class="form-group form-group-lg">\n            <div>\n                <button class="btn btn-info btn-lg btn-block btn-glome-go">Glome Go &raquo;</button>\n            </div>\n          </div>\n        </form>\n        <form id="login-form" class="form-group" accept-charset="UTF-8" data-toggle="validator">\n          <div class="form-group form-group-lg">\n            <h4>Login with an account</h4>\n            <div class="form-group">\n              <input type="email" class="form-control" placeholder="Email" id="login-email" required>\n            </div>\n            <div class="form-group">\n              <input type="password" class="form-control" placeholder="Password" id="login-password" required>\n            </div>\n            <div>\n              <div class="form-group">\n                <button type="submit" class="btn btn-info btn-lg btn-block btn-login">Login &raquo;</button>\n              </div>\n              <div class="help-block with-errors"></div>\n            </div>\n          </div>\n        </form>\n        <div>\n            <p>\n              <a class="sidebar-link" href="#glome-dialog">I already have a Glome soft account</a><br>\n              <a class="sidebar-link" href="#recover-credentials">Forgotten your password?</a><br>\n              <a href="http://www.glome.me" target="_blank">About Glome</a><br>\n              <a class="sidebar-link" href="#create-account-dialog">Register</a><br>\n            </p>\n        </div>\n        <br>\n        </div>\n</div>\n    <div class="sidebar-content" id="create-account-dialog">\n        <div id="regisration-div">\n             <div>\n                <h4>Create a new account.</h4>\n                 <p>Using an email to register can help you <a class="sidebar-link" href="#recover-credentials">recover your credentials</a> but will also allow you to create game tiles.</p>\n            </div>\n            <!-- Registration form -->\n            <form id="registration-form"\n                  class="form-group"\n                  data-toggle="validator"\n                  accept-charset="UTF-8">\n                <div class="form-group form-group-lg">\n                    <input type="text"\n                           id="register-name"\n                           class="form-control"\n                           placeholder="Username (min 4 characters)"\n                           data-minlength="4"\n                           required>\n                    <div class="help-block with-errors"></div>\n                </div>\n                <div class="form-group form-group-lg">\n                    <input type="email"\n                           class="form-control"\n                           placeholder="Email address"\n                           id="register-email"\n                           data-minlength="6">\n                    <div class="help-block with-errors"></div>\n                </div>\n                <div class="form-group form-group-lg">\n                        <input id="register-password"\n                               type="password"\n                               class="form-control"\n                               placeholder="Password min 6 characters"\n                               data-minlength="6"\n                               required>\n                        <div class="help-block with-errors"></div>\n                </div>\n                <div class="form-group form-group-lg">\n                        <input id="register-password-confirm"\n                               type="password"\n                               data-match="#register-password"\n                               class="form-control"\n                               placeholder="Repeat password"\n                               data-minlength="6"\n                               data-match-error="Don\'t match"\n                               required>\n                        <div class="help-block with-errors"></div>\n                </div>\n                <div class="btn-group btn-group-justified"\n                     role="group" >\n                    <div class="btn-group btn-group-lg" role="group">\n                        <button type="submit" class="btn btn-success">\n                          <i class="fa fa-check fa-fw"></i><span class="hidden">Register</span>\n                        </button>\n                    </div>\n                    <div class="btn-group btn-group-lg" role="group">\n                        <button class="btn btn-danger btn-cancel">\n                          <i class="fa fa-times fa-fw"></i><span class="hidden">Cancel</span>\n                        </button>\n                    </div>\n                </div>\n            </form>\n      </div>\n</div>\n    <div class="sidebar-content" id="delete-account-dialog">\n\n      <div><h3><span><a class="menu-backlink fa fa-fw fa-chevron-circle-left pull-left" href="#account-info"></a></span>Delete your account</h3></div>\n      <p class="lead">All user data and references are removed but the features you have created are kept in the database.</p>\n        <form id="delete-form" class="form-group" accept-charset="UTF-8" data-toggle="validator">\n          <div class="form-group form-group-lg">\n            <div class="form-group">\n              <input type="password" class="form-control" placeholder="Confirm password" id="delete-password" required>\n            </div>\n            <div class="help-block with-errors"></div>\n            <div>\n              <div>\n                <button type="submit" class="btn btn-danger btn-lg btn-block btn-delete-account">Delete</button>\n              </div>\n            </div>\n          </div>\n        </form>\n\n\n</div>\n    <div class="sidebar-content" id="account-info">\n      <br class="hidden-lg hidden-xl">\n      <div class="tab-view">\n          <ul class="nav nav-tabs nav-justified" role="tablist">\n            <li class="active"><a class="tab-default" href="#user-info-main" data-toggle="tab"><span class="fa fa-fw fa-user"></span></a></li>\n            <li><a href="#user-info-terms" data-toggle="tab"><span class="fa fa-fw fa-info-circle"></span></a></li>\n            <li><a href="#user-info-privacy" data-toggle="tab"><span class="fa fa-fw fa-lock"></span></a></li>\n          </ul>\n\n          <div class="tab-content">\n            <br>\n\n            <div class="tab-pane active form-group form-group-lg" id="user-info-main" role="tabpanel">\n              <h3>Welcome, <span class="user-name"></span></h3>\n              <h4>User id</h4><p class="user-id"></p>\n\n              <div class="user-glome-key"><h4>Glome key value</h4><p></p></div>\n\n              <div class="user-email"><h4>User email</h4><p></p></div>\n\n              <br>\n\n              <button type="button" class="btn btn-default btn-lg btn-block btn-logout">\n                <span class="fa fa-sign-out fa-fw"></span> Logout\n              </button>\n\n              <br>\n\n              <div class="pull-right"><p><a href="#delete-account-dialog" class="sidebar-link account-delete-link disabled">Delete</a> your account.</p></div>\n            </div>\n\n            <div class="tab-pane form-group form-group-lg" id="user-info-terms" role="tabpanel">\n              <h3>Terms of service</h3>\n              <p>As a user (anybody who has registered an account or is creating markers anonymously) of the grabagepla.net platform, you agree to use this platform for the sole purpose that it was designed for and no other ends including but not limited to the promotion of hate speech, third-party material advertisement or any other illegal activity.</p>\n              <p>The underlying software is distributed under the <a href="https://opensource.org/licenses/ISC" target="_blank">ISC Licence</a>. The data gathered by this platform is available upon request under the ODC Open Database License (<a href="http://opendatacommons.org/licenses/odbl/" target="_blank">ODbL v1.0</a>). The garbagepla.net logo is licensed under the <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 4.0</a> International License.</p>\n              <p>Content in preparation.</p>\n            </div>\n\n            <div class="tab-pane form-group form-group-lg" id="user-info-privacy" role="tabpanel">\n              <h3>Privacy policy and data protection</h3>\n                <p>As a platform that allows users to submit sensitive information related to environmental pollution, we make certain that none of the information we collect and that could potentially identify a user are disclosed to any third party. Furthermore, the user retains the copyright to any uploaded file or image.</p>\n                <p>Note that as of November 2016, this policy is not complete as this platform is currently used for development purpose only.</p>\n            </div>\n          </div>\n        </div>\n</div>\n\n    <div class="sidebar-content" id="glome-dialog">\n\n      <div><h3>Pair with your Glome account.</h3></div>\n\n      <div>\n        <h4>Scan the QR code</h4><img src="" alt="qr code" class="qrcode-image center-block">\n      </div>\n\n      <div>\n\n        <h4>or type in your key</h4>\n\n        <form id="glome-withkey-form" class="form-group" accept-charset="UTF-8" data-toggle="validator">\n          <div class="form-group form-group-lg">\n            <div>\n              <div class="row">\n                 <div class="input-group" style="width:100%">\n                  <div class=" col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 ">\n                    <input type="text"\n                           class="form-control"\n                           maxlength="14"\n                           size="14"\n                           pattern="[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}"\n                           data-error="Wrong key format"\n                           placeholder="XXXX-XXXX-XXXX"\n                           required>\n                      <div class="help-block with-errors"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <br>\n            <div>\n              <div>\n                <button type="submit" class="btn btn-info btn-lg btn-block btn-glome-key-send">Submit &raquo;</button>\n              </div>\n\n            </div>\n          </div>\n        </form>\n\n      </div>\n\n</div>\n    <div class="sidebar-content" id="recover-credentials">\n        <h2>\n            <span class="logged-out">\n              <a class="menu-backlink fa fa-fw fa-chevron-circle-left pull-left"\n                 href="#user-login-dialog">\n              </a>\n            </span>\n        Recover your account information\n        </h2>\n        <p class="lead">Please provide the email address you have used to register. If you encounter an issue while recovering your credentials you can also <a href="#">contact us</a>.</p>\n\n      <form id="recover-credentials-form"\n              class="form-group"\n              accept-charset="UTF-8"\n              data-toggle="validator">\n      <div class="form-group input-group input-group-lg form-group form-group-lg">\n                <input type="email"\n                       class="form-control"\n                       placeholder="Your email"\n                       with-error>\n                <span class="input-group-btn">\n                      <button class="btn btn-default btn-lg"\n                              type="submit">\n                          <span class="fa fa-fw fa-envelope-o"></span> Submit</button>\n                </span>\n        </div>\n        <br>\n        <div>\n            <div class="alert alert-danger hidden" role="alert">\n                <span class="fa fa-fw fa-exclamation"></span>\n                <span class="sr-only">Error:</span>\n                        Sorry, there is no user registered with this email.\n            </div>\n            <div class="alert alert-success hidden" role="alert">\n                <span class="fa fa-fw fa-check"></span>\n                <span class="sr-only">Error:</span>\n                        Check your inbox!\n            </div>\n        </div>\n        </form>\n</div>\n    <div class="sidebar-content" id="search-dialog">\n        <h3>Search</h3>\n        <h4>Use <strong>#tags</strong> or <strong>@tilename</strong> as well as location and standard text search.</h4>\n\n            <form id="search-form">\n                <div class="form-group-lg" style="width:100%">\n                    <input class="form-control" role="search" method="get" id="search-general" placeholder="Search for anything ...">\n                </div>\n                <br>\n                <div class="form-group form-group-lg">\n                    <div>\n                        <a class="btn-search btn btn-default btn-lg btn-block btn-disabled" disabled>\n                            <span class="fa fa-search fa-fw"></span>\n                                Launch search\n                        </a>\n                    </div>\n                </div>\n            </form>\n        <p></p>\n</div>\n    <div class="sidebar-content" id="credits-dialog">\n      <div>\n        <h2>Credits</h2>\n        <img src="images/logo.png" class="pull-right" alt="The garbagepla.net logo" width="100" height="100">\n        <div><p class="lead">Please refer to each component source files and repositories for license information.</p></div>\n          <div class="form-group form-group-lg" id="credits"></div>\n        </div> <!-- Credits -->\n    </div>\n    \n';return _s;}}
  tmpl.encReg = /[<>&"'\x00]/g // eslint-disable-line no-control-regex
  tmpl.encMap = {
    '<': '&lt;',
    '>': '&gt;',
    '&': '&amp;',
    '"': '&quot;',
    "'": '&#39;'
  }
  tmpl.encode = function (s) {
    return (s == null ? '' : '' + s).replace(
      tmpl.encReg,
      function (c) {
        return tmpl.encMap[c] || ''
      }
    )
  }
  if (typeof define === 'function' && define.amd) {
    define(function () {
      return tmpl
    })
  } else if (typeof module === 'object' && module.exports) {
    module.exports = tmpl
  } else {
    $.tmpl = tmpl
  }
}(this))

