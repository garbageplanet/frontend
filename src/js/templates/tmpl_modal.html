<script type="text/x-tmpl" id="tmpl-modal">
<!-- The template for the modal containers -->
{% if (o.opengraph) { %}
<div class="modal-dialog">
  <form class="form-feature form-opengraph" accept-charset="UTF-8" data-toggle="validator">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close pull-right" data-dismiss="modal">x</button>
      <h4 class="modal-title">Get data from an external url</h4>
    </div>
    
    <div class="modal-opengraph-body modal-body">
      <div class="container-fluid">
        <div class="row">
        
          <input type="hidden" name="latlng" class="marker-latlng opengraph-latlng">
            
          <div class="form-group form-group-lg">
            <div class="input-group input-group-lg">
              <input id="opengraph-url" 
                     type="url" 
                     name="url" 
                     class="form-control" 
                     placeholder="Paste or type in an url"
                     required>
              <span class="input-group-btn">
                <button class="btn btn-default btn-opengraph-fetch" type="button">Fetch</button>
              </span>
            </div>
            <div class="help-block with-errors"></div>
          </div>
        </div>
      </div>
      <div id="opengraph-content" class="container-fluid"></div>
    </div>
        
    <div class="modal-footer">
      <div class="form-group form-group-lg">
          <button type="button" data-dismiss="modal" class="btn btn-lg btn-danger pull-right ">Cancel</button>
          <button id="opengraph-submit" type="submit" class="hidden btn btn-save btn-save-opengraph btn-lg btn-success pull-right ">Save</button>
      </div>
    </div>
  </div>
  </form>
</div>
{% } %}
  
{% if (o.game) { %}
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" data-dismiss="modal">X </button>
        <h4 class="modal-title">Enter your game secret</h4></div>
      <div class="modal-body">
        <input>
      </div>
      <div class="modal-footer">
        <form>
          <button type="button" data-dismiss="modal" class="btn btn-danger pull-right ">Close</button>
          <button id="modal-game-submit" type="button" class="btn btn-success pull-right ">Join!</button>
        </form>
      </div>
    </div>
  </div>
{% } %}
<!-- TODO merge both block below eith conditionals within them -->
{% if (o.garbage) { %}
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" data-dismiss="modal">X </button>
        <h4 class="modal-title">View and download data from garbagepla.net</h4></div>
      <div class="modal-body">
        <table id="modal-garbage-table" class="table table-striped table-condensed">
          <thead>
            <tr>
              <th>Feature id</th>
              <th>Coordinates</th>
              <th>Amount</th>
              <th>Garbage types</th>
            </tr>
          </thead>
          <tbody id="modal-garbage-table-body"></tbody>
        </table>
      </div>
      <div class="modal-footer"><a class="disabled pull-left" href="#">Get the full data</a>
        <form>
          <button type="button" data-dismiss="modal" class="btn btn-danger pull-right ">Close</button>
          <button id="modal-data-load-more" type="button" class="btn btn-default pull-right ">Zoom out and load more</button>
          
          <a id="data-download" href="#" type="button" class="btn btn-default pull-right">Download</a>
          <a id="data-download-hidden" style="display:none"></a>
          
        </form>
      </div>
    </div>
  </div>
{% } %}
  
{% if (o.cleaning) { %}
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" data-dismiss="modal">X </button>
        <h4 class="modal-title">Cleaning events calendar</h4></div>
      <div class="modal-body">
        <table id="modal-cleaning-table" class="table table-striped table-condensed">
          <thead>
            <tr>
              <th>Event id</th>
              <th>Date</th>
              <th>Coordinates</th>
              <!--<th>Address</th>-->
            </tr>
          </thead>
          <tbody id="modal-cleaning-table-body"></tbody>
        </table>
      </div>
      <div class="modal-footer">
        <form>
          <button type="button" data-dismiss="modal" class="btn btn-danger pull-right ">Close</button>
          <button id="modal-cleaning-load-more" type="button" class="btn btn-default pull-right ">Zoom out and load more</button>
          
          <a id="data-download" href="#" type="button" class="btn btn-default pull-right">Download</a>
          <a id="data-download-hidden" style="display:none"></a>
        
        </form>
      </div>
    </div>
  </div>
{% } %}  

</script>